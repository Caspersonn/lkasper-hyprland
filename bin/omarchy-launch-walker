#!/usr/bin/env bash

if command -v elephant > /dev/null && ! pgrep -x elephant > /dev/null; then
  setsid uwsm-app -- elephant > /dev/null 2>&1 &
fi

if command -v walker > /dev/null; then
  if ! pgrep -f "walker --gapplication-service" > /dev/null; then
    setsid uwsm-app -- walker --gapplication-service > /dev/null 2>&1 &
  fi
  exec walker --width 644 --maxheight 300 --minheight 300 "$@"
fi

if command -v wofi > /dev/null; then
  if [ "${1:-}" = "--dmenu" ]; then
    shift
    exec wofi --dmenu -i "$@"
  fi
  exec wofi --show drun --sort-order=alphabetical
fi

exit 1
